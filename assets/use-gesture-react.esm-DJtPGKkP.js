import{r as P,f as tn,R as Zt}from"./index-D8PB1zm_.js";let be=At();const b=t=>Pt(t,be);let _e=At();b.write=t=>Pt(t,_e);let Bt=At();b.onStart=t=>Pt(t,Bt);let ve=At();b.onFrame=t=>Pt(t,ve);let we=At();b.onFinish=t=>Pt(t,we);let st=[];b.setTimeout=(t,e)=>{let s=b.now()+e,n=()=>{let r=st.findIndex(o=>o.cancel==n);~r&&st.splice(r,1),W-=~r?1:0},i={time:s,handler:t,cancel:n};return st.splice(ms(s),0,i),W+=1,gs(),i};let ms=t=>~(~st.findIndex(e=>e.time>t)||~st.length);b.cancel=t=>{Bt.delete(t),ve.delete(t),we.delete(t),be.delete(t),_e.delete(t)};b.sync=t=>{oe=!0,b.batchedUpdates(t),oe=!1};b.throttle=t=>{let e;function s(){try{t(...e)}finally{e=null}}function n(...i){e=i,b.onStart(s)}return n.handler=t,n.cancel=()=>{Bt.delete(s),e=null},n};let xe=typeof window<"u"?window.requestAnimationFrame:()=>{};b.use=t=>xe=t;b.now=typeof performance<"u"?()=>performance.now():Date.now;b.batchedUpdates=t=>t();b.catch=console.error;b.frameLoop="always";b.advance=()=>{b.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bs()};let G=-1,W=0,oe=!1;function Pt(t,e){oe?(e.delete(t),t(0)):(e.add(t),gs())}function gs(){G<0&&(G=0,b.frameLoop!=="demand"&&xe(ys))}function en(){G=-1}function ys(){~G&&(xe(ys),b.batchedUpdates(bs))}function bs(){let t=G;G=b.now();let e=ms(G);if(e&&(_s(st.splice(0,e),s=>s.handler()),W-=e),!W){en();return}Bt.flush(),be.flush(t?Math.min(64,G-t):16.667),ve.flush(),_e.flush(),we.flush()}function At(){let t=new Set,e=t;return{add(s){W+=e==t&&!t.has(s)?1:0,t.add(s)},delete(s){return W-=e==t&&t.has(s)?1:0,t.delete(s)},flush(s){e.size&&(t=new Set,W-=e.size,_s(e,n=>n(s)&&t.add(n)),W+=t.size,e=t)}}}function _s(t,e){t.forEach(s=>{try{e(s)}catch(n){b.catch(n)}})}function ae(){}const sn=(t,e,s)=>Object.defineProperty(t,e,{value:s,writable:!0,configurable:!0}),l={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function z(t,e){if(l.arr(t)){if(!l.arr(e)||t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}return t===e}const x=(t,e)=>t.forEach(e);function q(t,e,s){if(l.arr(t)){for(let n=0;n<t.length;n++)e.call(s,t[n],"".concat(n));return}for(const n in t)t.hasOwnProperty(n)&&e.call(s,t[n],n)}const R=t=>l.und(t)?[]:l.arr(t)?t:[t];function ht(t,e){if(t.size){const s=Array.from(t);t.clear(),x(s,e)}}const dt=(t,...e)=>ht(t,s=>s(...e)),Se=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Pe,vs,H=null,ws=!1,Ae=ae;const nn=t=>{t.to&&(vs=t.to),t.now&&(b.now=t.now),t.colors!==void 0&&(H=t.colors),t.skipAnimation!=null&&(ws=t.skipAnimation),t.createStringInterpolator&&(Pe=t.createStringInterpolator),t.requestAnimationFrame&&b.use(t.requestAnimationFrame),t.batchedUpdates&&(b.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Ae=t.willAdvance),t.frameLoop&&(b.frameLoop=t.frameLoop)};var B=Object.freeze({__proto__:null,get createStringInterpolator(){return Pe},get to(){return vs},get colors(){return H},get skipAnimation(){return ws},get willAdvance(){return Ae},assign:nn});const pt=new Set;let j=[],Jt=[],Vt=0;const Nt={get idle(){return!pt.size&&!j.length},start(t){Vt>t.priority?(pt.add(t),b.onStart(rn)):(xs(t),b(fe))},advance:fe,sort(t){if(Vt)b.onFrame(()=>Nt.sort(t));else{const e=j.indexOf(t);~e&&(j.splice(e,1),Ss(t))}},clear(){j=[],pt.clear()}};function rn(){pt.forEach(xs),pt.clear(),b(fe)}function xs(t){j.includes(t)||Ss(t)}function Ss(t){j.splice(on(j,e=>e.priority>t.priority),0,t)}function fe(t){const e=Jt;for(let s=0;s<j.length;s++){const n=j[s];Vt=n.priority,n.idle||(Ae(n),n.advance(t),n.idle||e.push(n))}return Vt=0,Jt=j,Jt.length=0,j=e,j.length>0}function on(t,e){const s=t.findIndex(e);return s<0?t.length:s}const an=(t,e,s)=>Math.min(Math.max(s,t),e),fn={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},L="[-+]?\\d*\\.?\\d+",jt=L+"%";function zt(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const un=new RegExp("rgb"+zt(L,L,L)),cn=new RegExp("rgba"+zt(L,L,L,L)),ln=new RegExp("hsl"+zt(L,jt,jt)),dn=new RegExp("hsla"+zt(L,jt,jt,L)),hn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,pn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,mn=/^#([0-9a-fA-F]{6})$/,gn=/^#([0-9a-fA-F]{8})$/;function yn(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=mn.exec(t))?parseInt(e[1]+"ff",16)>>>0:H&&H[t]!==void 0?H[t]:(e=un.exec(t))?(tt(e[1])<<24|tt(e[2])<<16|tt(e[3])<<8|255)>>>0:(e=cn.exec(t))?(tt(e[1])<<24|tt(e[2])<<16|tt(e[3])<<8|je(e[4]))>>>0:(e=hn.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=gn.exec(t))?parseInt(e[1],16)>>>0:(e=pn.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=ln.exec(t))?(De(Ve(e[1]),Ot(e[2]),Ot(e[3]))|255)>>>0:(e=dn.exec(t))?(De(Ve(e[1]),Ot(e[2]),Ot(e[3]))|je(e[4]))>>>0:null}function te(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function De(t,e,s){const n=s<.5?s*(1+e):s+e-s*e,i=2*s-n,r=te(i,n,t+1/3),o=te(i,n,t),f=te(i,n,t-1/3);return Math.round(r*255)<<24|Math.round(o*255)<<16|Math.round(f*255)<<8}function tt(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Ve(t){return(parseFloat(t)%360+360)%360/360}function je(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Ot(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Fe(t){let e=yn(t);if(e===null)return t;e=e||0;let s=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,r=(e&255)/255;return"rgba(".concat(s,", ").concat(n,", ").concat(i,", ").concat(r,")")}const yt=(t,e,s)=>{if(l.fun(t))return t;if(l.arr(t))return yt({range:t,output:e,extrapolate:s});if(l.str(t.output[0]))return Pe(t);const n=t,i=n.output,r=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",f=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(a=>a);return a=>{const u=_n(a,r);return bn(a,r[u],r[u+1],i[u],i[u+1],c,o,f,n.map)}};function bn(t,e,s,n,i,r,o,f,c){let a=c?c(t):t;if(a<e){if(o==="identity")return a;o==="clamp"&&(a=e)}if(a>s){if(f==="identity")return a;f==="clamp"&&(a=s)}return n===i?n:e===s?t<=e?n:i:(e===-1/0?a=-a:s===1/0?a=a-e:a=(a-e)/(s-e),a=r(a),n===-1/0?a=-a:i===1/0?a=a+n:a=a*(i-n)+n,a)}function _n(t,e){for(var s=1;s<e.length-1&&!(e[s]>=t);++s);return s-1}const vn=(t,e="end")=>s=>{s=e==="end"?Math.min(s,.999):Math.max(s,.001);const n=s*t,i=e==="end"?Math.floor(n):Math.ceil(n);return an(0,1,i/t)},Ft=1.70158,Tt=Ft*1.525,Le=Ft+1,$e=2*Math.PI/3,Ue=2*Math.PI/4.5,Ct=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,wn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Le*t*t*t-Ft*t*t,easeOutBack:t=>1+Le*Math.pow(t-1,3)+Ft*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Tt+1)*2*t-Tt)/2:(Math.pow(2*t-2,2)*((Tt+1)*(t*2-2)+Tt)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*$e),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*$e)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Ue))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Ue)/2+1,easeInBounce:t=>1-Ct(1-t),easeOutBounce:Ct,easeInOutBounce:t=>t<.5?(1-Ct(1-2*t))/2:(1+Ct(2*t-1))/2,steps:vn};function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ue.apply(this,arguments)}const it=Symbol.for("FluidValue.get"),X=Symbol.for("FluidValue.observers"),D=t=>!!(t&&t[it]),C=t=>t&&t[it]?t[it]():t,qe=t=>t[X]||null;function xn(t,e){t.eventObserved?t.eventObserved(e):t(e)}function bt(t,e){let s=t[X];s&&s.forEach(n=>{xn(n,e)})}class Ps{constructor(e){if(this[it]=void 0,this[X]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Sn(this,e)}}const Sn=(t,e)=>As(t,it,e);function ot(t,e){if(t[it]){let s=t[X];s||As(t,X,s=new Set),s.has(e)||(s.add(e),t.observerAdded&&t.observerAdded(s.size,e))}return e}function _t(t,e){let s=t[X];if(s&&s.has(e)){const n=s.size-1;n?s.delete(e):t[X]=null,t.observerRemoved&&t.observerRemoved(n,e)}}const As=(t,e,s)=>Object.defineProperty(t,e,{value:s,writable:!0,configurable:!0}),Rt=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Pn=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Be=new RegExp("(".concat(Rt.source,")(%|[a-z]+)"),"i"),An=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Qt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Is=t=>{const[e,s]=In(t);if(!e||Se())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(s&&s.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(s);return i||t}else{if(s&&Qt.test(s))return Is(s);if(s)return s}return t},In=t=>{const e=Qt.exec(t);if(!e)return[,];const[,s,n]=e;return[s,n]};let ee;const kn=(t,e,s,n,i)=>"rgba(".concat(Math.round(e),", ").concat(Math.round(s),", ").concat(Math.round(n),", ").concat(i,")"),ks=t=>{ee||(ee=H?new RegExp("(".concat(Object.keys(H).join("|"),")(?!\\w)"),"g"):/^\b$/);const e=t.output.map(r=>C(r).replace(Qt,Is).replace(Pn,Fe).replace(ee,Fe)),s=e.map(r=>r.match(Rt).map(Number)),i=s[0].map((r,o)=>s.map(f=>{if(!(o in f))throw Error('The arity of each "output" value must be equal');return f[o]})).map(r=>yt(ue({},t,{output:r})));return r=>{var o;const f=!Be.test(e[0])&&((o=e.find(a=>Be.test(a)))==null?void 0:o.replace(Rt,""));let c=0;return e[0].replace(Rt,()=>"".concat(i[c++](r)).concat(f||"")).replace(An,kn)}},Ie="react-spring: ",Es=t=>{const e=t;let s=!1;if(typeof e!="function")throw new TypeError("".concat(Ie,"once requires a function parameter"));return(...n)=>{s||(e(...n),s=!0)}},En=Es(console.warn);function On(){En("".concat(Ie,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}const Tn=Es(console.warn);function Cn(){Tn("".concat(Ie,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Kt(t){return l.str(t)&&(t[0]=="#"||/\d/.test(t)||!Se()&&Qt.test(t)||t in(H||{}))}const ke=Se()?P.useEffect:P.useLayoutEffect,Rn=()=>{const t=P.useRef(!1);return ke(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Os(){const t=P.useState()[1],e=Rn();return()=>{e.current&&t(Math.random())}}function Mn(t,e){const[s]=P.useState(()=>({inputs:e,result:t()})),n=P.useRef(),i=n.current;let r=i;return r?e&&r.inputs&&Dn(e,r.inputs)||(r={inputs:e,result:t()}):r=s,P.useEffect(()=>{n.current=r,i==s&&(s.inputs=s.result=void 0)},[r]),r.result}function Dn(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}const Ts=t=>P.useEffect(t,Vn),Vn=[];function Ne(t){const e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}const vt=Symbol.for("Animated:node"),jn=t=>!!t&&t[vt]===t,U=t=>t&&t[vt],Ee=(t,e)=>sn(t,vt,e),Gt=t=>t&&t[vt]&&t[vt].getPayload();class Cs{constructor(){this.payload=void 0,Ee(this,this)}getPayload(){return this.payload||[]}}class at extends Cs{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,l.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new at(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,s){return l.num(e)&&(this.lastPosition=e,s&&(e=Math.round(e/s)*s,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,l.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class rt extends at{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=yt({output:[e,e]})}static create(e){return new rt(e)}getValue(){let e=this._string;return e==null?this._string=this._toString(this._value):e}setValue(e){if(l.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=yt({output:[this.getValue(),e]})),this._value=0,super.reset()}}const Lt={dependencies:null};class Wt extends Cs{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const s={};return q(this.source,(n,i)=>{jn(n)?s[i]=n.getValue(e):D(n)?s[i]=C(n):e||(s[i]=n)}),s}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&x(this.payload,e=>e.reset())}_makePayload(e){if(e){const s=new Set;return q(e,this._addToPayload,s),Array.from(s)}}_addToPayload(e){Lt.dependencies&&D(e)&&Lt.dependencies.add(e);const s=Gt(e);s&&x(s,n=>this.add(n))}}class Oe extends Wt{constructor(e){super(e)}static create(e){return new Oe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const s=this.getPayload();return e.length==s.length?s.map((n,i)=>n.setValue(e[i])).some(Boolean):(super.setValue(e.map(Fn)),!0)}}function Fn(t){return(Kt(t)?rt:at).create(t)}function ce(t){const e=U(t);return e?e.constructor:l.arr(t)?Oe:Kt(t)?rt:at}function $t(){return $t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},$t.apply(this,arguments)}const ze=(t,e)=>{const s=!l.fun(t)||t.prototype&&t.prototype.isReactComponent;return P.forwardRef((n,i)=>{const r=P.useRef(null),o=s&&P.useCallback(p=>{r.current=Un(i,p)},[i]),[f,c]=$n(n,e),a=Os(),u=()=>{const p=r.current;if(s&&!p)return;(p?e.applyAnimatedValues(p,f.getValue(!0)):!1)===!1&&a()},h=new Ln(u,c),d=P.useRef();ke(()=>(d.current=h,x(c,p=>ot(p,h)),()=>{d.current&&(x(d.current.deps,p=>_t(p,d.current)),b.cancel(d.current.update))})),P.useEffect(u,[]),Ts(()=>()=>{const p=d.current;x(p.deps,g=>_t(g,p))});const _=e.getComponentProps(f.getValue());return P.createElement(t,$t({},_,{ref:o}))})};class Ln{constructor(e,s){this.update=e,this.deps=s}eventObserved(e){e.type=="change"&&b.write(this.update)}}function $n(t,e){const s=new Set;return Lt.dependencies=s,t.style&&(t=$t({},t,{style:e.createAnimatedStyle(t.style)})),t=new Wt(t),Lt.dependencies=null,[t,s]}function Un(t,e){return t&&(l.fun(t)?t(e):t.current=e),e}const Qe=Symbol.for("AnimatedComponent"),qn=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:s=i=>new Wt(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:s,getComponentProps:n},r=o=>{const f=Ke(o)||"Anonymous";return l.str(o)?o=r[o]||(r[o]=ze(o,i)):o=o[Qe]||(o[Qe]=ze(o,i)),o.displayName="Animated(".concat(f,")"),o};return q(t,(o,f)=>{l.arr(t)&&(f=Ke(o)),r[f]=r(o)}),{animated:r}},Ke=t=>l.str(t)?t:t&&l.str(t.displayName)?t.displayName:l.fun(t)&&t.name||null;function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},E.apply(this,arguments)}function Y(t,...e){return l.fun(t)?t(...e):t}const mt=(t,e)=>t===!0||!!(e&&t&&(l.fun(t)?t(e):R(t).includes(e))),Rs=(t,e)=>l.obj(t)?e&&t[e]:t,Ms=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Bn=t=>t,Te=(t,e=Bn)=>{let s=Nn;t.default&&t.default!==!0&&(t=t.default,s=Object.keys(t));const n={};for(const i of s){const r=e(t[i],i);l.und(r)||(n[i]=r)}return n},Nn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],zn={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Qn(t){const e={};let s=0;if(q(t,(n,i)=>{zn[i]||(e[i]=n,s++)}),s)return e}function Ds(t){const e=Qn(t);if(e){const s={to:e};return q(t,(n,i)=>i in e||(s[i]=n)),s}return E({},t)}function wt(t){return t=C(t),l.arr(t)?t.map(wt):Kt(t)?B.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Kn(t){for(const e in t)return!0;return!1}function le(t){return l.fun(t)||l.arr(t)&&l.obj(t[0])}function Gn(t,e){var s;(s=t.ref)==null||s.delete(t),e==null||e.delete(t)}function Wn(t,e){if(e&&t.ref!==e){var s;(s=t.ref)==null||s.delete(t),e.add(t),t.ref=e}}const Hn={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},de=E({},Hn.default,{mass:1,damping:1,easing:wn.linear,clamp:!1});class Yn{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,de)}}function Xn(t,e,s){s&&(s=E({},s),Ge(s,e),e=E({},s,e)),Ge(t,e),Object.assign(t,e);for(const o in de)t[o]==null&&(t[o]=de[o]);let{mass:n,frequency:i,damping:r}=t;return l.und(i)||(i<.01&&(i=.01),r<0&&(r=0),t.tension=Math.pow(2*Math.PI/i,2)*n,t.friction=4*Math.PI*r*n/i),t}function Ge(t,e){if(!l.und(e.decay))t.duration=void 0;else{const s=!l.und(e.tension)||!l.und(e.friction);(s||!l.und(e.frequency)||!l.und(e.damping)||!l.und(e.mass))&&(t.duration=void 0,t.decay=void 0),s&&(t.frequency=void 0)}}const We=[];class Zn{constructor(){this.changed=!1,this.values=We,this.toValues=null,this.fromValues=We,this.to=void 0,this.from=void 0,this.config=new Yn,this.immediate=!1}}function Vs(t,{key:e,props:s,defaultProps:n,state:i,actions:r}){return new Promise((o,f)=>{var c;let a,u,h=mt((c=s.cancel)!=null?c:n==null?void 0:n.cancel,e);if(h)p();else{l.und(s.pause)||(i.paused=mt(s.pause,e));let g=n==null?void 0:n.pause;g!==!0&&(g=i.paused||mt(g,e)),a=Y(s.delay||0,e),g?(i.resumeQueue.add(_),r.pause()):(r.resume(),_())}function d(){i.resumeQueue.add(_),i.timeouts.delete(u),u.cancel(),a=u.time-b.now()}function _(){a>0&&!B.skipAnimation?(i.delayed=!0,u=b.setTimeout(p,a),i.pauseQueue.add(d),i.timeouts.add(u)):p()}function p(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),t<=(i.cancelId||0)&&(h=!0);try{r.start(E({},s,{callId:t,cancel:h}),o)}catch(g){f(g)}}})}const Ce=(t,e)=>e.length==1?e[0]:e.some(s=>s.cancelled)?nt(t.get()):e.every(s=>s.noop)?js(t.get()):F(t.get(),e.every(s=>s.finished)),js=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),F=(t,e,s=!1)=>({value:t,finished:e,cancelled:s}),nt=t=>({value:t,cancelled:!0,finished:!1});function Fs(t,e,s,n){const{callId:i,parentId:r,onRest:o}=e,{asyncTo:f,promise:c}=s;return!r&&t===f&&!e.reset?c:s.promise=(async()=>{s.asyncId=i,s.asyncTo=t;const a=Te(e,(m,y)=>y==="onRest"?void 0:m);let u,h;const d=new Promise((m,y)=>(u=m,h=y)),_=m=>{const y=i<=(s.cancelId||0)&&nt(n)||i!==s.asyncId&&F(n,!1);if(y)throw m.result=y,h(m),m},p=(m,y)=>{const v=new He,S=new Ye;return(async()=>{if(B.skipAnimation)throw xt(s),S.result=F(n,!1),h(S),S;_(v);const w=l.obj(m)?E({},m):E({},y,{to:m});w.parentId=i,q(a,(k,Q)=>{l.und(w[Q])&&(w[Q]=k)});const I=await n.start(w);return _(v),s.paused&&await new Promise(k=>{s.resumeQueue.add(k)}),I})()};let g;if(B.skipAnimation)return xt(s),F(n,!1);try{let m;l.arr(t)?m=(async y=>{for(const v of y)await p(v)})(t):m=Promise.resolve(t(p,n.stop.bind(n))),await Promise.all([m.then(u),d]),g=F(n.get(),!0,!1)}catch(m){if(m instanceof He)g=m.result;else if(m instanceof Ye)g=m.result;else throw m}finally{i==s.asyncId&&(s.asyncId=r,s.asyncTo=r?f:void 0,s.promise=r?c:void 0)}return l.fun(o)&&b.batchedUpdates(()=>{o(g,n,n.item)}),g})()}function xt(t,e){ht(t.timeouts,s=>s.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class He extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Ye extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const he=t=>t instanceof Re;let Jn=1;class Re extends Ps{constructor(...e){super(...e),this.id=Jn++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=U(this);return e&&e.getValue()}to(...e){return B.to(this,e)}interpolate(...e){return On(),B.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,s=!1){bt(this,{type:"change",parent:this,value:e,idle:s})}_onPriorityChange(e){this.idle||Nt.sort(this),bt(this,{type:"priority",parent:this,priority:e})}}const Z=Symbol.for("SpringPhase"),Ls=1,pe=2,me=4,se=t=>(t[Z]&Ls)>0,K=t=>(t[Z]&pe)>0,ut=t=>(t[Z]&me)>0,Xe=(t,e)=>e?t[Z]|=pe|Ls:t[Z]&=~pe,Ze=(t,e)=>e?t[Z]|=me:t[Z]&=~me;class ti extends Re{constructor(e,s){if(super(),this.key=void 0,this.animation=new Zn,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!l.und(e)||!l.und(s)){const n=l.obj(e)?E({},e):E({},s,{from:e});l.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(K(this)||this._state.asyncTo)||ut(this)}get goal(){return C(this.animation.to)}get velocity(){const e=U(this);return e instanceof at?e.lastVelocity||0:e.getPayload().map(s=>s.lastVelocity||0)}get hasAnimated(){return se(this)}get isAnimating(){return K(this)}get isPaused(){return ut(this)}get isDelayed(){return this._state.delayed}advance(e){let s=!0,n=!1;const i=this.animation;let{config:r,toValues:o}=i;const f=Gt(i.to);!f&&D(i.to)&&(o=R(C(i.to))),i.values.forEach((u,h)=>{if(u.done)return;const d=u.constructor==rt?1:f?f[h].lastPosition:o[h];let _=i.immediate,p=d;if(!_){if(p=u.lastPosition,r.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const m=i.fromValues[h],y=u.v0!=null?u.v0:u.v0=l.arr(r.velocity)?r.velocity[h]:r.velocity;let v;const S=r.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(l.und(r.duration))if(r.decay){const w=r.decay===!0?.998:r.decay,I=Math.exp(-(1-w)*g);p=m+y/(1-w)*(1-I),_=Math.abs(u.lastPosition-p)<=S,v=y*I}else{v=u.lastVelocity==null?y:u.lastVelocity;const w=r.restVelocity||S/10,I=r.clamp?0:r.bounce,k=!l.und(I),Q=m==d?u.v0>0:m<d;let N,Et=!1;const M=1,ft=Math.ceil(e/M);for(let $=0;$<ft&&(N=Math.abs(v)>w,!(!N&&(_=Math.abs(d-p)<=S,_)));++$){k&&(Et=p==d||p>d==Q,Et&&(v=-v*I,p=d));const J=-r.tension*1e-6*(p-d),Xt=-r.friction*.001*v,Js=(J+Xt)/r.mass;v=v+Js*M,p=p+v*M}}else{let w=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,u.durationProgress>0&&(u.elapsedTime=r.duration*u.durationProgress,g=u.elapsedTime+=e)),w=(r.progress||0)+g/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),p=m+r.easing(w)*(d-m),v=(p-u.lastPosition)/e,_=w==1}u.lastVelocity=v,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),_=!0)}f&&!f[h].done&&(_=!1),_?u.done=!0:s=!1,u.setValue(p,r.round)&&(n=!0)});const c=U(this),a=c.getValue();if(s){const u=C(i.to);(a!==u||n)&&!r.decay?(c.setValue(u),this._onChange(u)):n&&r.decay&&this._onChange(a),this._stop()}else n&&this._onChange(a)}set(e){return b.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(K(this)){const{to:e,config:s}=this.animation;b.batchedUpdates(()=>{this._onStart(),s.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,s){let n;return l.und(e)?(n=this.queue||[],this.queue=[]):n=[l.obj(e)?e:E({},s,{to:e})],Promise.all(n.map(i=>this._update(i))).then(i=>Ce(this,i))}stop(e){const{to:s}=this.animation;return this._focus(this.get()),xt(this._state,e&&this._lastCallId),b.batchedUpdates(()=>this._stop(s,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const s=this.key||"";let{to:n,from:i}=e;n=l.obj(n)?n[s]:n,(n==null||le(n))&&(n=void 0),i=l.obj(i)?i[s]:i,i==null&&(i=void 0);const r={to:n,from:i};return se(this)||(e.reverse&&([n,i]=[i,n]),i=C(i),l.und(i)?U(this)||this._set(n):this._set(i)),r}_update(e,s){let n=E({},e);const{key:i,defaultProps:r}=this;n.default&&Object.assign(r,Te(n,(c,a)=>/^on/.test(a)?Rs(c,i):c)),ts(this,n,"onProps"),lt(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const f=this._state;return Vs(++this._lastCallId,{key:i,props:n,defaultProps:r,state:f,actions:{pause:()=>{ut(this)||(Ze(this,!0),dt(f.pauseQueue),lt(this,"onPause",F(this,ct(this,this.animation.to)),this))},resume:()=>{ut(this)&&(Ze(this,!1),K(this)&&this._resume(),dt(f.resumeQueue),lt(this,"onResume",F(this,ct(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(c=>{if(n.loop&&c.finished&&!(s&&c.noop)){const a=$s(n);if(a)return this._update(a,!0)}return c})}_merge(e,s,n){if(s.cancel)return this.stop(!0),n(nt(this));const i=!l.und(e.to),r=!l.und(e.from);if(i||r)if(s.callId>this._lastToId)this._lastToId=s.callId;else return n(nt(this));const{key:o,defaultProps:f,animation:c}=this,{to:a,from:u}=c;let{to:h=a,from:d=u}=e;r&&!i&&(!s.default||l.und(h))&&(h=d),s.reverse&&([h,d]=[d,h]);const _=!z(d,u);_&&(c.from=d),d=C(d);const p=!z(h,a);p&&this._focus(h);const g=le(s.to),{config:m}=c,{decay:y,velocity:v}=m;(i||r)&&(m.velocity=0),s.config&&!g&&Xn(m,Y(s.config,o),s.config!==f.config?Y(f.config,o):void 0);let S=U(this);if(!S||l.und(h))return n(F(this,!0));const w=l.und(s.reset)?r&&!s.default:!l.und(d)&&mt(s.reset,o),I=w?d:this.get(),k=wt(h),Q=l.num(k)||l.arr(k)||Kt(k),N=!g&&(!Q||mt(f.immediate||s.immediate,o));if(p){const $=ce(h);if($!==S.constructor)if(N)S=this._set(k);else throw Error("Cannot animate between ".concat(S.constructor.name," and ").concat($.name,', as the "to" prop suggests'))}const Et=S.constructor;let M=D(h),ft=!1;if(!M){const $=w||!se(this)&&_;(p||$)&&(ft=z(wt(I),k),M=!ft),(!z(c.immediate,N)&&!N||!z(m.decay,y)||!z(m.velocity,v))&&(M=!0)}if(ft&&K(this)&&(c.changed&&!w?M=!0:M||this._stop(a)),!g&&((M||D(a))&&(c.values=S.getPayload(),c.toValues=D(h)?null:Et==rt?[1]:R(k)),c.immediate!=N&&(c.immediate=N,!N&&!w&&this._set(a)),M)){const{onRest:$}=c;x(si,Xt=>ts(this,s,Xt));const J=F(this,ct(this,a));dt(this._pendingCalls,J),this._pendingCalls.add(n),c.changed&&b.batchedUpdates(()=>{c.changed=!w,$==null||$(J,this),w?Y(f.onRest,J):c.onStart==null||c.onStart(J,this)})}w&&this._set(I),g?n(Fs(s.to,s,this._state,this)):M?this._start():K(this)&&!p?this._pendingCalls.add(n):n(js(I))}_focus(e){const s=this.animation;e!==s.to&&(qe(this)&&this._detach(),s.to=e,qe(this)&&this._attach())}_attach(){let e=0;const{to:s}=this.animation;D(s)&&(ot(s,this),he(s)&&(e=s.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;D(e)&&_t(e,this)}_set(e,s=!0){const n=C(e);if(!l.und(n)){const i=U(this);if(!i||!z(n,i.getValue())){const r=ce(n);!i||i.constructor!=r?Ee(this,r.create(n)):i.setValue(n),i&&b.batchedUpdates(()=>{this._onChange(n,s)})}}return U(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,lt(this,"onStart",F(this,ct(this,e.to)),this))}_onChange(e,s){s||(this._onStart(),Y(this.animation.onChange,e,this)),Y(this.defaultProps.onChange,e,this),super._onChange(e,s)}_start(){const e=this.animation;U(this).reset(C(e.to)),e.immediate||(e.fromValues=e.values.map(s=>s.lastPosition)),K(this)||(Xe(this,!0),ut(this)||this._resume())}_resume(){B.skipAnimation?this.finish():Nt.start(this)}_stop(e,s){if(K(this)){Xe(this,!1);const n=this.animation;x(n.values,r=>{r.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),bt(this,{type:"idle",parent:this});const i=s?nt(this.get()):F(this.get(),ct(this,e!=null?e:n.to));dt(this._pendingCalls,i),n.changed&&(n.changed=!1,lt(this,"onRest",i,this))}}}function ct(t,e){const s=wt(e),n=wt(t.get());return z(n,s)}function $s(t,e=t.loop,s=t.to){let n=Y(e);if(n){const i=n!==!0&&Ds(n),r=(i||t).reverse,o=!i||i.reset;return St(E({},t,{loop:e,default:!1,pause:void 0,to:!r||le(s)?s:void 0,from:o?t.from:void 0,reset:o},i))}}function St(t){const{to:e,from:s}=t=Ds(t),n=new Set;return l.obj(e)&&Je(e,n),l.obj(s)&&Je(s,n),t.keys=n.size?Array.from(n):null,t}function ei(t){const e=St(t);return l.und(e.default)&&(e.default=Te(e)),e}function Je(t,e){q(t,(s,n)=>s!=null&&e.add(n))}const si=["onStart","onRest","onChange","onPause","onResume"];function ts(t,e,s){t.animation[s]=e[s]!==Ms(e,s)?Rs(e[s],t.key):void 0}function lt(t,e,...s){var n,i,r,o;(n=(i=t.animation)[e])==null||n.call(i,...s),(r=(o=t.defaultProps)[e])==null||r.call(o,...s)}const ni=["onStart","onChange","onRest"];let ii=1,ri=class{constructor(e,s){this.id=ii++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),s&&(this._flush=s),e&&this.start(E({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((s,n)=>e[n]=s.get()),e}set(e){for(const s in e){const n=e[s];l.und(n)||this.springs[s].set(n)}}update(e){return e&&this.queue.push(St(e)),this}start(e){let{queue:s}=this;return e?s=R(e).map(St):this.queue=[],this._flush?this._flush(this,s):(zs(this,s),ge(this,s))}stop(e,s){if(e!==!!e&&(s=e),s){const n=this.springs;x(R(s),i=>n[i].stop(!!e))}else xt(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(l.und(e))this.start({pause:!0});else{const s=this.springs;x(R(e),n=>s[n].pause())}return this}resume(e){if(l.und(e))this.start({pause:!1});else{const s=this.springs;x(R(e),n=>s[n].resume())}return this}each(e){q(this.springs,e)}_onFrame(){const{onStart:e,onChange:s,onRest:n}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,ht(e,([c,a])=>{a.value=this.get(),c(a,this,this._item)}));const o=!i&&this._started,f=r||o&&n.size?this.get():null;r&&s.size&&ht(s,([c,a])=>{a.value=f,c(a,this,this._item)}),o&&(this._started=!1,ht(n,([c,a])=>{a.value=f,c(a,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;b.onFrame(this._onFrame)}};function ge(t,e){return Promise.all(e.map(s=>Us(t,s))).then(s=>Ce(t,s))}async function Us(t,e,s){const{keys:n,to:i,from:r,loop:o,onRest:f,onResolve:c}=e,a=l.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),r===!1&&(e.from=null);const u=l.arr(i)||l.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,a&&(a.onRest=void 0)):x(ni,g=>{const m=e[g];if(l.fun(m)){const y=t._events[g];e[g]=({finished:v,cancelled:S})=>{const w=y.get(m);w?(v||(w.finished=!1),S&&(w.cancelled=!0)):y.set(m,{value:null,finished:v||!1,cancelled:S||!1})},a&&(a[g]=e[g])}});const h=t._state;e.pause===!h.paused?(h.paused=e.pause,dt(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const d=(n||Object.keys(t.springs)).map(g=>t.springs[g].start(e)),_=e.cancel===!0||Ms(e,"cancel")===!0;(u||_&&h.asyncId)&&d.push(Vs(++t._lastAsyncId,{props:e,state:h,actions:{pause:ae,resume:ae,start(g,m){_?(xt(h,t._lastAsyncId),m(nt(t))):(g.onRest=f,m(Fs(u,g,h,t)))}}})),h.paused&&await new Promise(g=>{h.resumeQueue.add(g)});const p=Ce(t,await Promise.all(d));if(o&&p.finished&&!(s&&p.noop)){const g=$s(e,o,i);if(g)return zs(t,[g]),Us(t,g,!0)}return c&&b.batchedUpdates(()=>c(p,t,t.item)),p}function es(t,e){const s=E({},t.springs);return e&&x(R(e),n=>{l.und(n.keys)&&(n=St(n)),l.obj(n.to)||(n=E({},n,{to:void 0})),Ns(s,n,i=>Bs(i))}),qs(t,s),s}function qs(t,e){q(e,(s,n)=>{t.springs[n]||(t.springs[n]=s,ot(s,t))})}function Bs(t,e){const s=new ti;return s.key=t,e&&ot(s,e),s}function Ns(t,e,s){e.keys&&x(e.keys,n=>{(t[n]||(t[n]=s(n)))._prepareNode(e)})}function zs(t,e){x(e,s=>{Ns(t.springs,s,n=>Bs(n,t))})}function oi(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}const ai=["children"],Ht=t=>{let{children:e}=t,s=oi(t,ai);const n=P.useContext(Ut),i=s.pause||!!n.pause,r=s.immediate||!!n.immediate;s=Mn(()=>({pause:i,immediate:r}),[i,r]);const{Provider:o}=Ut;return P.createElement(o,{value:s},e)},Ut=fi(Ht,{});Ht.Provider=Ut.Provider;Ht.Consumer=Ut.Consumer;function fi(t,e){return Object.assign(t,P.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const ui=()=>{const t=[],e=function(i){Cn();const r=[];return x(t,(o,f)=>{if(l.und(i))r.push(o.start());else{const c=s(i,o,f);c&&r.push(o.start(c))}}),r};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return x(t,n=>n.pause(...arguments)),this},e.resume=function(){return x(t,n=>n.resume(...arguments)),this},e.set=function(n){x(t,i=>i.set(n))},e.start=function(n){const i=[];return x(t,(r,o)=>{if(l.und(n))i.push(r.start());else{const f=this._getProps(n,r,o);f&&i.push(r.start(f))}}),i},e.stop=function(){return x(t,n=>n.stop(...arguments)),this},e.update=function(n){return x(t,(i,r)=>i.update(this._getProps(n,i,r))),this};const s=function(i,r,o){return l.fun(i)?i(o,r):i};return e._getProps=s,e};function ci(t,e,s){const n=l.fun(e)&&e;n&&!s&&(s=[]);const i=P.useMemo(()=>n||arguments.length==3?ui():void 0,[]),r=P.useRef(0),o=Os(),f=P.useMemo(()=>({ctrls:[],queue:[],flush(y,v){const S=es(y,v);return r.current>0&&!f.queue.length&&!Object.keys(S).some(I=>!y.springs[I])?ge(y,v):new Promise(I=>{qs(y,S),f.queue.push(()=>{I(ge(y,v))}),o()})}}),[]),c=P.useRef([...f.ctrls]),a=[],u=Ne(t)||0;P.useMemo(()=>{x(c.current.slice(t,u),y=>{Gn(y,i),y.stop(!0)}),c.current.length=t,h(u,t)},[t]),P.useMemo(()=>{h(0,Math.min(u,t))},s);function h(y,v){for(let S=y;S<v;S++){const w=c.current[S]||(c.current[S]=new ri(null,f.flush)),I=n?n(S,w):e[S];I&&(a[S]=ei(I))}}const d=c.current.map((y,v)=>es(y,a[v])),_=P.useContext(Ht),p=Ne(_),g=_!==p&&Kn(_);ke(()=>{r.current++,f.ctrls=c.current;const{queue:y}=f;y.length&&(f.queue=[],x(y,v=>v())),x(c.current,(v,S)=>{i==null||i.add(v),g&&v.start({default:_});const w=a[S];w&&(Wn(v,w.ref),v.ref?v.queue.push(w):v.start(w))})}),Ts(()=>()=>{x(f.ctrls,y=>y.stop(!0))});const m=d.map(y=>E({},y));return i?[m,i]:m}function wr(t,e){const s=l.fun(t),[[n],i]=ci(1,s?t:[t],s?e||[]:e);return s||arguments.length==2?[n,i]:n}let ss;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(ss||(ss={}));class li extends Re{constructor(e,s){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=yt(...s);const n=this._get(),i=ce(n);Ee(this,i.create(n))}advance(e){const s=this._get(),n=this.get();z(s,n)||(U(this).setValue(s),this._onChange(s,this.idle)),!this.idle&&ns(this._active)&&ne(this)}_get(){const e=l.arr(this.source)?this.source.map(C):R(C(this.source));return this.calc(...e)}_start(){this.idle&&!ns(this._active)&&(this.idle=!1,x(Gt(this),e=>{e.done=!1}),B.skipAnimation?(b.batchedUpdates(()=>this.advance()),ne(this)):Nt.start(this))}_attach(){let e=1;x(R(this.source),s=>{D(s)&&ot(s,this),he(s)&&(s.idle||this._active.add(s),e=Math.max(e,s.priority+1))}),this.priority=e,this._start()}_detach(){x(R(this.source),e=>{D(e)&&_t(e,this)}),this._active.clear(),ne(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=R(this.source).reduce((s,n)=>Math.max(s,(he(n)?n.priority:0)+1),0))}}function di(t){return t.idle!==!1}function ns(t){return!t.size||Array.from(t).every(di)}function ne(t){t.idle||(t.idle=!0,x(Gt(t),e=>{e.done=!0}),bt(t,{type:"idle",parent:t}))}B.assign({createStringInterpolator:ks,to:(t,e)=>new li(t,e)});function Me(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}const hi=["style","children","scrollTop","scrollLeft","viewBox"],Qs=/^--/;function pi(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Qs.test(t)&&!(gt.hasOwnProperty(t)&&gt[t])?e+"px":(""+e).trim()}const is={};function mi(t,e){if(!t.nodeType||!t.setAttribute)return!1;const s=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",n=e,{style:i,children:r,scrollTop:o,scrollLeft:f,viewBox:c}=n,a=Me(n,hi),u=Object.values(a),h=Object.keys(a).map(d=>s||t.hasAttribute(d)?d:is[d]||(is[d]=d.replace(/([A-Z])/g,_=>"-"+_.toLowerCase())));r!==void 0&&(t.textContent=r);for(let d in i)if(i.hasOwnProperty(d)){const _=pi(d,i[d]);Qs.test(d)?t.style.setProperty(d,_):t.style[d]=_}h.forEach((d,_)=>{t.setAttribute(d,u[_])}),o!==void 0&&(t.scrollTop=o),f!==void 0&&(t.scrollLeft=f),c!==void 0&&t.setAttribute("viewBox",c)}let gt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const gi=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),yi=["Webkit","Ms","Moz","O"];gt=Object.keys(gt).reduce((t,e)=>(yi.forEach(s=>t[gi(s,e)]=t[e]),t),gt);const bi=["x","y","z"],_i=/^(matrix|translate|scale|rotate|skew)/,vi=/^(translate)/,wi=/^(rotate|skew)/,ie=(t,e)=>l.num(t)&&t!==0?t+e:t,Mt=(t,e)=>l.arr(t)?t.every(s=>Mt(s,e)):l.num(t)?t===e:parseFloat(t)===e;class xi extends Wt{constructor(e){let{x:s,y:n,z:i}=e,r=Me(e,bi);const o=[],f=[];(s||n||i)&&(o.push([s||0,n||0,i||0]),f.push(c=>["translate3d(".concat(c.map(a=>ie(a,"px")).join(","),")"),Mt(c,0)])),q(r,(c,a)=>{if(a==="transform")o.push([c||""]),f.push(u=>[u,u===""]);else if(_i.test(a)){if(delete r[a],l.und(c))return;const u=vi.test(a)?"px":wi.test(a)?"deg":"";o.push(R(c)),f.push(a==="rotate3d"?([h,d,_,p])=>["rotate3d(".concat(h,",").concat(d,",").concat(_,",").concat(ie(p,u),")"),Mt(p,0)]:h=>["".concat(a,"(").concat(h.map(d=>ie(d,u)).join(","),")"),Mt(h,a.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new Si(o,f)),super(r)}}class Si extends Ps{constructor(e,s){super(),this._value=null,this.inputs=e,this.transforms=s}get(){return this._value||(this._value=this._get())}_get(){let e="",s=!0;return x(this.inputs,(n,i)=>{const r=C(n[0]),[o,f]=this.transforms[i](l.arr(r)?r:n.map(C));e+=" "+o,s=s&&f}),s?"none":e}observerAdded(e){e==1&&x(this.inputs,s=>x(s,n=>D(n)&&ot(n,this)))}observerRemoved(e){e==0&&x(this.inputs,s=>x(s,n=>D(n)&&_t(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),bt(this,e)}}const Pi=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ai=["scrollTop","scrollLeft"];B.assign({batchedUpdates:tn.unstable_batchedUpdates,createStringInterpolator:ks,colors:fn});const Ii=qn(Pi,{applyAnimatedValues:mi,createAnimatedStyle:t=>new xi(t),getComponentProps:t=>Me(t,Ai)}),xr=Ii.animated;function ki(t,e,s){return Math.max(e,Math.min(t,s))}const O={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function rs(t,e,s){return e===0||Math.abs(e)===1/0?Math.pow(t,s*5):t*e*s/(e+s*t)}function os(t,e,s,n=.15){return n===0?ki(t,e,s):t<e?-rs(e-t,s-e,n)+e:t>s?+rs(t-s,s-e,n)+s:t}function Ei(t,[e,s],[n,i]){const[[r,o],[f,c]]=t;return[os(e,r,o,n),os(s,f,c,i)]}function Oi(t,e){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t){var e=Oi(t,"string");return typeof e=="symbol"?e:String(e)}function T(t,e,s){return e=Ti(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function as(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function A(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?as(Object(s),!0).forEach(function(n){T(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):as(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}const Ks={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function fs(t){return t?t[0].toUpperCase()+t.slice(1):""}const Ci=["enter","leave"];function Ri(t=!1,e){return t&&!Ci.includes(e)}function Mi(t,e="",s=!1){const n=Ks[t],i=n&&n[e]||e;return"on"+fs(t)+fs(i)+(Ri(s,i)?"Capture":"")}const Di=["gotpointercapture","lostpointercapture"];function Vi(t){let e=t.substring(2).toLowerCase();const s=!!~e.indexOf("passive");s&&(e=e.replace("passive",""));const n=Di.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:s}}function ji(t,e=""){const s=Ks[t],n=s&&s[e]||e;return t+n}function Yt(t){return"touches"in t}function Gs(t){return Yt(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Fi(t){return Array.from(t.touches).filter(e=>{var s,n;return e.target===t.currentTarget||((s=t.currentTarget)===null||s===void 0||(n=s.contains)===null||n===void 0?void 0:n.call(s,e.target))})}function Li(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function Ws(t){return Yt(t)?Li(t)[0]:t}function $i(t){return Fi(t).map(e=>e.identifier)}function re(t){const e=Ws(t);return Yt(t)?e.identifier:e.pointerId}function us(t){const e=Ws(t);return[e.clientX,e.clientY]}function Ui(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:s,altKey:n,metaKey:i,ctrlKey:r}=t;Object.assign(e,{shiftKey:s,altKey:n,metaKey:i,ctrlKey:r})}return e}function qt(t,...e){return typeof t=="function"?t(...e):t}function qi(){}function Bi(...t){return t.length===0?qi:t.length===1?t[0]:function(){let e;for(const s of t)e=s.apply(this,arguments)||e;return e}}function cs(t,e){return Object.assign({},e,t||{})}const Ni=32;class zi{constructor(e,s,n){this.ctrl=e,this.args=s,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:s,ingKey:n,args:i}=this;s[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const s=this.state,n=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=e.target,s.currentTarget=e.currentTarget,s.lastOffset=n.from?qt(n.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=e.timeStamp)}computeValues(e){const s=this.state;s._values=e,s.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:s,config:n,shared:i}=this;s.args=this.args;let r=0;if(e&&(s.event=e,n.preventDefault&&e.cancelable&&s.event.preventDefault(),s.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Ui(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,r=e.timeStamp-s.timeStamp,s.timeStamp=e.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const k=s._delta.map(Math.abs);O.addTo(s._distance,k)}this.axisIntent&&this.axisIntent(e);const[o,f]=s._movement,[c,a]=n.threshold,{_step:u,values:h}=s;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=c&&h[0]),u[1]===!1&&(u[1]=Math.abs(f)>=a&&h[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=c&&Math.sign(o)*c),u[1]===!1&&(u[1]=Math.abs(f)>=a&&Math.sign(f)*a)),s.intentional=u[0]!==!1||u[1]!==!1,!s.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[k,Q]=h;d[0]=u[0]!==!1?k-u[0]:0,d[1]=u[1]!==!1?Q-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?f-u[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(d);const _=s.offset,p=s._active&&!s._blocked||s.active;p&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=i[this.ingKey]=s._active,e&&(s.first&&("bounds"in n&&(s._bounds=qt(n.bounds,s)),this.setup&&this.setup()),s.movement=d,this.computeOffset()));const[g,m]=s.offset,[[y,v],[S,w]]=s._bounds;s.overflow=[g<y?-1:g>v?1:0,m<S?-1:m>w?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const I=s._active?n.rubberband||[0,0]:[0,0];if(s.offset=Ei(s._bounds,s.offset,I),s.delta=O.sub(s.offset,_),this.computeMovement(),p&&(!s.last||r>Ni)){s.delta=O.sub(s.offset,_);const k=s.delta.map(Math.abs);O.addTo(s.distance,k),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&r>0&&(s.velocity=[k[0]/r,k[1]/r],s.timeDelta=r)}}emit(){const e=this.state,s=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(A(A(A({},s),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Qi([t,e],s){const n=Math.abs(t),i=Math.abs(e);if(n>i&&n>s)return"x";if(i>n&&i>s)return"y"}class Ki extends zi{constructor(...e){super(...e),T(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=O.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=O.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const s=this.state,n=this.config;if(!s.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[Gs(e)]:n.axisThreshold;s.axis=Qi(s._movement,i)}s._blocked=(n.lockDirection||!!n.axis)&&!s.axis||!!n.axis&&n.axis!==s.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Gi=t=>t,ls=.15,Hs={enabled(t=!0){return t},eventOptions(t,e,s){return A(A({},s.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[ls,ls];case!1:return[0,0];default:return O.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return O.toVector(t)},transform(t,e,s){const n=t||s.shared.transform;return this.hasCustomTransform=!!n,n||Gi},threshold(t){return O.toVector(t,0)}},Wi=0,It=A(A({},Hs),{},{axis(t,e,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(t=Wi){return t},bounds(t={}){if(typeof t=="function")return r=>It.bounds(t(r));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:s=1/0,top:n=-1/0,bottom:i=1/0}=t;return[[e,s],[n,i]]}}),ds={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Hi extends Ki{constructor(...e){super(...e),T(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const s=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),i={left:s.left-n.left+e.offset[0],right:s.right-n.right+e.offset[0],top:s.top-n.top+e.offset[1],bottom:s.bottom-n.bottom+e.offset[1]};e._bounds=It.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const s=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(e.buttons):s.pointerButtons!==-1&&s.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);s.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=re(e),n._pointerActive=!0,this.computeValues(us(e)),this.computeInitial(),s.preventScrollAxis&&Gs(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):s.delay>0?(this.setupDelayTrigger(e),s.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const s=this.state,n=this.config;if(!s._pointerActive)return;const i=re(e);if(s._pointerId!==void 0&&i!==s._pointerId)return;const r=us(e);if(document.pointerLockElement===e.target?s._delta=[e.movementX,e.movementY]:(s._delta=O.sub(r,s._values),this.computeValues(r)),O.addTo(s._movement,s._delta),this.compute(e),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(f){}const s=this.state,n=this.config;if(!s._active||!s._pointerActive)return;const i=re(e);if(s._pointerId!==void 0&&i!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,o]=s._distance;if(s.tap=r<=n.tapsThreshold&&o<=n.tapsThreshold,s.tap&&n.filterTaps)s._force=!0;else{const[f,c]=s._delta,[a,u]=s._movement,[h,d]=n.swipe.velocity,[_,p]=n.swipe.distance,g=n.swipe.duration;if(s.elapsedTime<g){const m=Math.abs(f/s.timeDelta),y=Math.abs(c/s.timeDelta);m>h&&Math.abs(a)>_&&(s.swipe[0]=Math.sign(f)),y>d&&Math.abs(u)>p&&(s.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const s=this.config,n=s.device;s.pointerLock&&e.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Yi(e);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const s=ds[e.key];if(s){const n=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=s(this.config.keyboardDisplacement,i),n._keyboardActive=!0,O.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ds&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const s=this.config.device;e(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(s,"change",this.pointerMove.bind(this)),e(s,"end",this.pointerUp.bind(this)),e(s,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Yi(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const kt=typeof window<"u"&&window.document&&window.document.createElement;function Ys(){return kt&&"ontouchstart"in window}function Xi(){return Ys()||kt&&window.navigator.maxTouchPoints>1}function Zi(){return kt&&"onpointerdown"in window}function Ji(){return kt&&"exitPointerLock"in window.document}function tr(){try{return"constructor"in GestureEvent}catch(t){return!1}}const V={isBrowser:kt,gesture:tr(),touch:Ys(),touchscreen:Xi(),pointer:Zi(),pointerLock:Ji()},er=250,sr=180,nr=.5,ir=50,rr=250,or=10,hs={mouse:0,touch:0,pen:8},ar=A(A({},It),{},{device(t,e,{pointer:{touch:s=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&V.pointerLock,V.touch&&s?"touch":this.pointerLock?"mouse":V.pointer&&!i?"pointer":V.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&t?er:void 0,!(!V.touchscreen||s===!1))return t||(s!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:s=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&s},threshold(t,e,{filterTaps:s=!1,tapsThreshold:n=3,axis:i=void 0}){const r=O.toVector(t,s?n:i?1:0);return this.filterTaps=s,this.tapsThreshold=n,r},swipe({velocity:t=nr,distance:e=ir,duration:s=rr}={}){return{velocity:this.transform(O.toVector(t)),distance:this.transform(O.toVector(e)),duration:s}},delay(t=0){switch(t){case!0:return sr;case!1:return 0;default:return t}},axisThreshold(t){return t?A(A({},hs),t):hs},keyboardDisplacement(t=or){return t}});A(A({},Hs),{},{device(t,e,{shared:s,pointer:{touch:n=!1}={}}){if(s.target&&!V.touch&&V.gesture)return"gesture";if(V.touch&&n)return"touch";if(V.touchscreen){if(V.pointer)return"pointer";if(V.touch)return"touch"}},bounds(t,e,{scaleBounds:s={},angleBounds:n={}}){const i=o=>{const f=cs(qt(s,o),{min:-1/0,max:1/0});return[f.min,f.max]},r=o=>{const f=cs(qt(n,o),{min:-1/0,max:1/0});return[f.min,f.max]};return typeof s!="function"&&typeof n!="function"?[i(),r()]:o=>[i(o),r(o)]},threshold(t,e,s){return this.lockDirection=s.axis==="lock",O.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});A(A({},It),{},{mouseOnly:(t=!0)=>t});A(A({},It),{},{mouseOnly:(t=!0)=>t});const Xs=new Map,ye=new Map;function fr(t){Xs.set(t.key,t.engine),ye.set(t.key,t.resolver)}const ur={key:"drag",engine:Hi,resolver:ar};function cr(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}function lr(t,e){if(t==null)return{};var s=cr(t,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}const dr={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=V.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},hr=["target","eventOptions","window","enabled","transform"];function Dt(t={},e){const s={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":s[n]=i.call(s,t[n],n,t);break;case"object":s[n]=Dt(t[n],i);break;case"boolean":i&&(s[n]=t[n]);break}return s}function pr(t,e,s={}){const n=t,{target:i,eventOptions:r,window:o,enabled:f,transform:c}=n,a=lr(n,hr);if(s.shared=Dt({target:i,eventOptions:r,window:o,enabled:f,transform:c},dr),e){const u=ye.get(e);s[e]=Dt(A({shared:s.shared},a),u)}else for(const u in a){const h=ye.get(u);h&&(s[u]=Dt(A({shared:s.shared},a[u]),h))}return s}class Zs{constructor(e,s){T(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=s}add(e,s,n,i,r){const o=this._listeners,f=ji(s,n),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},a=A(A({},c),r);e.addEventListener(f,i,a);const u=()=>{e.removeEventListener(f,i,a),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class mr{constructor(){T(this,"_timeouts",new Map)}add(e,s,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(s,n,...i))}remove(e){const s=this._timeouts.get(e);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class gr{constructor(e){T(this,"gestures",new Set),T(this,"_targetEventStore",new Zs(this)),T(this,"gestureEventStores",{}),T(this,"gestureTimeoutStores",{}),T(this,"handlers",{}),T(this,"config",{}),T(this,"pointerIds",new Set),T(this,"touchIds",new Set),T(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),yr(this,e)}setEventIds(e){if(Yt(e))return this.touchIds=new Set($i(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,s){this.handlers=e,this.nativeHandlers=s}applyConfig(e,s){this.config=pr(e,s,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const s=this.config.shared,n={};let i;if(!(s.target&&(i=s.target(),!i))){if(s.enabled){for(const o of this.gestures){const f=this.config[o],c=ps(n,f.eventOptions,!!i);if(f.enabled){const a=Xs.get(o);new a(this,e,o).bind(c)}}const r=ps(n,s.eventOptions,!!i);for(const o in this.nativeHandlers)r(o,"",f=>this.nativeHandlers[o](A(A({},this.state.shared),{},{event:f,args:e})),void 0,!0)}for(const r in n)n[r]=Bi(...n[r]);if(!i)return n;for(const r in n){const{device:o,capture:f,passive:c}=Vi(r);this._targetEventStore.add(i,o,"",n[r],{capture:f,passive:c})}}}}function et(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Zs(t,e),t.gestureTimeoutStores[e]=new mr}function yr(t,e){e.drag&&et(t,"drag"),e.wheel&&et(t,"wheel"),e.scroll&&et(t,"scroll"),e.move&&et(t,"move"),e.pinch&&et(t,"pinch"),e.hover&&et(t,"hover")}const ps=(t,e,s)=>(n,i,r,o={},f=!1)=>{var c,a;const u=(c=o.capture)!==null&&c!==void 0?c:e.capture,h=(a=o.passive)!==null&&a!==void 0?a:e.passive;let d=f?n:Mi(n,i,u);s&&h&&(d+="Passive"),t[d]=t[d]||[],t[d].push(r)};function br(t,e={},s,n){const i=Zt.useMemo(()=>new gr(t),[]);if(i.applyHandlers(t,n),i.applyConfig(e,s),Zt.useEffect(i.effect.bind(i)),Zt.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Sr(t,e){return fr(ur),br({drag:t},e||{},"drag")}export{Sr as a,xr as b,wr as u};
